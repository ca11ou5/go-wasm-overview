# Запуск Go в браузере с помощью WebAssembly #
## Предисловие ##
Стоит начать с того, что это очень узкая технология, никак не способная заменить стандартные инструменты Frontend разработки, она развивается медленнее JavaScript`a и в большинстве случаях гораздо менее удобная в разработке. К тому же собранные бинарники WASM получаются слишком большие, даже для современных скоростей интернета

## Обзор ##
WebAssembly (дальше WASM) - бинарный формат, который может исполнятся в браузере, в следствие того, что это бинарный формат, он может быть скомпилирован на одном из любых низкоуровневых языках программирования (C, C++, Go, Rust etc).  
Он был разработан для решения проблемы "быстро исполнять код в браузере". Быстро — это значит, «быстрее чем JavaScript», в идеале настолько быстро, насколько позволяет имеющийся у нас процессор.(https://habr.com/ru/articles/475778/). К тому же для корректной работы ему необходимо быть полностью кросс-платформенным.  
WASM подходит и для большинства прикладных задач, но чаще всего для прикладных задач не требуется таких мощностей предоставляемых WASM, в пример продуктов в которых необходим WASM можно привести:  
1) Figma - для быстрой работы с 2D графикой внутри макета
2) Различные браузерные игры, требующие больших вычислений
3) AutoСAD - для комфортной работы с 3D чертежами
4) Различная браузерная мультимедиа
5) Платформы для разработчиков
6) WebRTC платформы
7) Криптобиржи, блокчейн продукты для вычисления сложных математических операций

В основном использование WASM упирается в работу с различной графикой и сложными математическими операциями, которые в теории можно реализовать на бекенде, но по нужде WASM использовать можно, в нашем случае в 99% наших прикладных задач он не необходим.  
В данном репозитории представлена в качестве примера работа с WASM, для наглядности и примера того, как это может работать

## Problem solving ##
Важное уточнение: работа с WASM в Go находится все еще в экспериментальной стадии и пока что предоставлена только для тестирования, крайне не рекомендуется взаимодействие с пользователями через WASM
1) syscall/js package is red.  
Solve: пакет все еще экспериментальный (не подходит для работы с пользователями, в GoLand из-за этого подсвечивается красным при импорте, то есть как будто не импортируется, но при билде все в порядке)

## Инструкция по запуску ##
```
make nginx
```

Измените main.go или оставьте такой как есть, сбилдите его в wasm
```
make wasm
```

Откройте .html в браузере, проверьте консоль там некоторые логи с Go, добавлена также функция генерации капчи, вызовите и добавьте в дом дерево через консоль браузера
```
img = document.createElement("img");
img.src = captcha();
document.body.appendChild(img);
```

В пример дополнил возможностью ввести и проверить капчу на правильность